"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[69],{2003:function(e,s,a){var i=a(4483),c=a(3174),r=a(184);s.Z=function(e){for(var s=null===e||void 0===e?void 0:e.rating,a=[],l=1;l<=5;l++)l<=parseFloat(s).toFixed(0)?a.push((0,r.jsx)("li",{className:"me-1",style:{listStyleType:"none"},children:(0,r.jsx)(i.G,{icon:c.Tab,className:"rating-color"})},l)):a.push((0,r.jsx)("li",{className:"me-1",style:{listStyleType:"none"},children:(0,r.jsx)(i.G,{icon:c.Tab,className:"no-rating-color"})},l));return(0,r.jsx)(r.Fragment,{children:a})}},7284:function(e,s,a){a.d(s,{Z:function(){return n}});var i=a(2003),c=a(184),r=function(e){var s=new Date(e.review.created_at),a="".concat(s.getDate(),"-").concat(s.getMonth()+1,"-").concat(s.getFullYear());return(0,c.jsx)("div",{className:"card",children:(0,c.jsxs)("div",{className:"card-body px-3 py-2",children:[(0,c.jsxs)("div",{className:"d-flex",children:[(0,c.jsx)("img",{src:e.review.buyer.image,className:"avatar",alt:"Buyer"}),(0,c.jsxs)("h6",{className:"my-auto ms-2",children:[e.review.buyer.firstname," ",e.review.buyer.lastname]})]}),(0,c.jsxs)("div",{className:"d-flex p-0 m-0",children:[(0,c.jsx)(i.Z,{rating:e.review.rating.average_rating}),e.review.rating.average_rating]}),e.review.image?(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-lg-9 col-sm-8",children:(0,c.jsx)("p",{className:"my-2",children:e.review.review})}),(0,c.jsx)("div",{className:"col-lg-3 col-sm-4",children:(0,c.jsx)("img",{src:e.review.image,alt:e.review.image,width:"100%"})})]}):(0,c.jsx)("p",{className:"my-2",children:e.review.review}),(0,c.jsx)("p",{className:"mb-0",children:(0,c.jsxs)("small",{children:[" Published: ",a]})})]})})},l=a(2413),n=function(e){var s=0,a=0;e.reviews.forEach((function(e){s+=e.rating.seller_communication_level,a+=e.rating.service_as_described}));var n=(s/e.reviews.length).toFixed(1),t=(a/e.reviews.length).toFixed(1);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"d-flex",children:[(0,c.jsx)("h5",{className:"fw-bold me-2",children:"Reviews"}),(0,c.jsx)(l.Z,{reviews:e.reviews})]}),(0,c.jsxs)("div",{className:"mt-3",children:[(0,c.jsx)("h6",{className:"font-w-700",children:"Rating Breakdown"}),(0,c.jsxs)("div",{className:"row mt-3",children:[(0,c.jsx)("div",{className:"col-sm-6 mb-2",children:(0,c.jsx)("h6",{className:"my-auto",children:"Seller communication level"})}),(0,c.jsx)("div",{className:"col-sm-6 mb-2",children:(0,c.jsx)("div",{className:"d-flex",children:e.reviews.length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.Z,{rating:n}),(0,c.jsx)("span",{children:n})]}):(0,c.jsx)("span",{className:"rating-color",children:"N/A"})})})]}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-sm-6 mb-2",children:(0,c.jsx)("h6",{className:"my-auto",children:"Service as described"})}),(0,c.jsx)("div",{className:"col-sm-6 mb-2",children:(0,c.jsx)("div",{className:"d-flex",children:e.reviews.length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.Z,{rating:t}),(0,c.jsx)("span",{children:t})]}):(0,c.jsx)("span",{className:"rating-color",children:"N/A"})})})]})]}),(0,c.jsx)("div",{className:"mt-3",children:e.reviews.map((function(e,s){return(0,c.jsx)(r,{review:e},s)}))})]})}},2413:function(e,s,a){var i=a(2003),c=a(184);s.Z=function(e){var s=null===e||void 0===e?void 0:e.reviews,a=0,r=0;return(null===s||void 0===s?void 0:s.length)>0&&(s.forEach((function(e){r+=e.rating.average_rating})),a=(r/s.length).toFixed(1)),(null===s||void 0===s?void 0:s.length)>0?(0,c.jsxs)("ul",{className:"d-flex p-0 m-0",style:{listStyleType:"none"},children:[(0,c.jsx)(i.Z,{rating:a}),(0,c.jsx)("li",{className:"ms-1",children:(0,c.jsxs)("span",{children:["(",s.length,")"]})})]}):(0,c.jsx)("span",{className:"rating-color",children:"N/A"})}},7069:function(e,s,a){a.r(s),a.d(s,{default:function(){return N}});var i=a(885),c=a(2413),r=a(2791),l=a(4569),n=a.n(l),t=a(6700),d=a(6871),o=a(3504),m=a(184),x=function(e){var s=null===e||void 0===e?void 0:e.service.reviews,a=e.service.images.map((function(s,a){return 0===a?(0,m.jsx)("button",{type:"button","data-bs-target":"#slider".concat(e.service._id),"data-bs-slide-to":a,className:"active"},a):(0,m.jsx)("button",{type:"button","data-bs-target":"#slider".concat(e.service._id),"data-bs-slide-to":a},a)})),i=e.service.images.map((function(e,s){return 0===s?(0,m.jsx)("div",{className:"carousel-item active",children:(0,m.jsx)("img",{src:e,alt:"Los Angeles",className:"d-block w-100"})},s):(0,m.jsx)("div",{className:"carousel-item",children:(0,m.jsx)("img",{src:e,alt:"Los Angeles",className:"d-block w-100"})},s)}));return(0,m.jsxs)("div",{className:"card seller-service-card",children:[(0,m.jsxs)("div",{id:"slider".concat(e.service._id),className:"carousel slide","data-interval":"false",children:[(0,m.jsx)("div",{className:"carousel-indicators",children:a}),(0,m.jsx)("div",{className:"carousel-inner",children:i})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("div",{className:"d-flex",children:(0,m.jsx)(c.Z,{reviews:s})}),(0,m.jsx)(o.rU,{to:"".concat(t.m8.SERVICE_DETAIL,"/").concat(e.service._id),className:"card-title app-link",children:e.service.title}),(0,m.jsxs)("p",{className:"card-text text-end mt-3 font-w-700",children:["Price: ",e.service.packages.basic.price]})]})]})},v=a(7284),h=a(9434),u=a(9085),j=(a(5462),a(709)),N=function(){var e=(0,h.v9)((function(e){return e.isAuth})),s=(0,r.useState)(""),a=(0,i.Z)(s,2),l=a[0],o=a[1],N=(0,r.useState)(!1),g=(0,i.Z)(N,2),f=g[0],p=g[1],b=(0,r.useState)(!1),w=(0,i.Z)(b,2),y=w[0],S=w[1],_=(0,r.useState)({}),Z=(0,i.Z)(_,2),F=Z[0],k=Z[1],A=(0,r.useState)([]),C=(0,i.Z)(A,2),T=C[0],E=C[1],B=(0,r.useState)([]),D=(0,i.Z)(B,2),M=D[0],L=D[1],I=(0,d.UO)().seller_user_id;(0,r.useEffect)((function(){var e={user_id:I};n().post(t.SK+"api/seller",e).then((function(e){200===e.status&&(k(e.data.data),E(e.data.data.reviews),L(e.data.data.services))}))}),[I]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"container-fluid my-5",children:(0,m.jsxs)("div",{className:"row px-4",children:[(0,m.jsxs)("div",{className:"col-md-4 mb-5",children:[(0,m.jsxs)("div",{className:"card profile-card d-flex align-items-center",children:[(0,m.jsx)("img",{src:F.image,className:"profile-img mt-5 rounded-circle",alt:"..."}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("h5",{className:"card-title text-center fw-bold",children:F.firstname+" "+F.lastname}),(0,m.jsx)("div",{className:"ratingstars",children:(0,m.jsx)("ul",{children:(0,m.jsx)(c.Z,{reviews:T})})}),(0,m.jsx)("div",{className:"contactbutton d-flex justify-content-center",children:(0,m.jsx)("button",{className:"btn theme-btn",onClick:function(){return S(!0)},children:"Message"})})]}),(0,m.jsx)("div",{className:"card-footer col-10 bg-transparent",children:(0,m.jsxs)("p",{className:"ms-2",children:[(0,m.jsx)("b",{className:"me-2",children:"From:"}),F.city,", ",F.state,", ",F.country]})})]}),(0,m.jsx)("h5",{className:"mb-0 mt-5 mb-2",children:"Description"}),(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("p",{className:"card-text",children:F.description})})})]}),(0,m.jsxs)("div",{className:"col-md-8",children:[(0,m.jsxs)("h2",{className:"mb-3",children:[F.firstname,"'s Services"]}),(0,m.jsx)("div",{className:"row",children:M.map((function(e,s){return(0,m.jsx)("div",{className:"col-lg-4 col-sm-6 mb-4",children:(0,m.jsx)(x,{service:e})},s)}))}),(0,m.jsx)("div",{className:"my-4",children:(0,m.jsx)(v.Z,{reviews:T})})]})]})}),(0,m.jsxs)(j.Z,{show:y,onHide:function(){return S(!1)},children:[(0,m.jsx)(j.Z.Header,{closeButton:!0,children:(0,m.jsxs)("h5",{className:"text-center mb-3",children:["Message to ",F.firstname," ",F.lastname]})}),(0,m.jsx)(j.Z.Body,{children:(0,m.jsx)("form",{onSubmit:function(s){if(s.preventDefault(),!l)return p(!0),!1;if(!0===e){var a={receiver_user_id:F._id,message_text:l};n().post("".concat(t.SK,"api/message/send"),a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}).then((function(e){200===e.status&&(u.Am.success("Message Sent Successfully!",{autoClose:2e3}),S(!1),o(""))})).catch((function(e){console.log(e),u.Am.error(e,{autoClose:2e3})}))}else u.Am.error("Please Login Before Send Message!",{autoClose:2e3})},children:(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("textarea",{className:"form-control rounded-2",rows:"4",placeholder:"Type your message...",autoFocus:!0,onChange:function(e){p(!1),o(e.target.value)},value:l}),!0===f?(0,m.jsx)("label",{className:"text-danger mt-1",children:"Message is mendatory!"}):"",(0,m.jsx)("button",{type:"submit",className:"btn theme-btn mt-3 float-end",children:"SEND"})]})})})]})]})}}}]);
//# sourceMappingURL=69.cc17d01b.chunk.js.map