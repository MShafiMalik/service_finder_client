{"version":3,"file":"static/js/987.8ea759ab.chunk.js","mappings":"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","sources":["pages/components/page_title/PageTitle.jsx","pages/personal_detail/PersonalDetail.jsx"],"sourcesContent":["import \"./PageTitle.scss\";\r\n\r\nconst PageTitle = (props) => {\r\n  return (\r\n    <div className=\"container-fluid p-0 page-title\">\r\n      <h1 className=\"title\">{props.title}</h1>\r\n      <div className=\"overlay\"></div>\r\n      <img\r\n        src=\"https://res.cloudinary.com/dcwobtmhv/image/upload/v1661413222/bg1_fm8fzh.jpg\"\r\n        alt=\"Page Title\"\r\n        width=\"100%\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageTitle;\r\n","import PageTitle from \"../components/page_title/PageTitle\";\r\nimport * as Yup from \"yup\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { ROUTE_NAMES, SERVER_BASE_URL } from \"../../common/constants\";\r\nimport { useState } from \"react\";\r\n\r\nconst PersonalDetail = () => {\r\n  const { email } = useParams();\r\n  let navigate = useNavigate();\r\n  const [imageInput, setImageInput] = useState(\"\");\r\n  const [imageError, setImageError] = useState(false);\r\n\r\n  const yupValidation = Yup.object().shape({\r\n    phone: Yup.string().required(\"Phone is mendatory\"),\r\n    city: Yup.string().required(\"City is mendatory\"),\r\n    state: Yup.string().required(\"State is mendatory\"),\r\n    country: Yup.string().required(\"Country is mendatory\"),\r\n    description: Yup.string().required(\"Description is mendatory\"),\r\n  });\r\n\r\n  const formOptions = { resolver: yupResolver(yupValidation) };\r\n  const { register, handleSubmit, formState } = useForm(formOptions);\r\n  const { errors } = formState;\r\n\r\n  const imageHandleChange = (e) => {\r\n    setImageError(false);\r\n    setImageInput(e.target.files[0]);\r\n  };\r\n\r\n  function onSubmit(body) {\r\n    if (!imageInput) {\r\n      setImageError(true);\r\n      return false;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"upload_preset\", \"usersimages\");\r\n    formData.append(\"file\", imageInput);\r\n    fetch(\"https://api.cloudinary.com/v1_1/dcwobtmhv/image/upload\", {\r\n      method: \"POST\",\r\n      body: formData,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const url = data.url;\r\n        body = { ...body, image: url, email: email };\r\n        axios\r\n          .post(`${SERVER_BASE_URL}api/auth/add-personal-info`, body)\r\n          .then((response) => {\r\n            if (response.status === 200) {\r\n              navigate(ROUTE_NAMES.HOME);\r\n            }\r\n          });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid p-0\">\r\n      <PageTitle title=\"Personal Detail\" />\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"row container mx-auto my-3\">\r\n          <div className=\"col-md-6 form-group mb-4\">\r\n            <label>Phone</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"phone\"\r\n              className={`form-control mt-2 ${\r\n                errors.phone ? \"is-invalid\" : \"\"\r\n              }`}\r\n              {...register(\"phone\")}\r\n            />\r\n            {errors.phone ? (\r\n              <label className=\"text-danger mt-1\">\r\n                {\" \"}\r\n                {errors.phone.message}\r\n              </label>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          <div className=\"col-md-6 form-group mb-4\">\r\n            <label>City</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"city\"\r\n              className={`form-control mt-2 ${errors.city ? \"is-invalid\" : \"\"}`}\r\n              {...register(\"city\")}\r\n            />\r\n            {errors.city ? (\r\n              <label className=\"text-danger mt-1\"> {errors.city.message}</label>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          <div className=\"col-md-6 form-group mb-4\">\r\n            <label>State</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"state\"\r\n              className={`form-control mt-2 ${\r\n                errors.state ? \"is-invalid\" : \"\"\r\n              }`}\r\n              {...register(\"state\")}\r\n            />\r\n            {errors.state ? (\r\n              <label className=\"text-danger mt-1\">\r\n                {\" \"}\r\n                {errors.state.message}\r\n              </label>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          <div className=\"col-md-6 form-group mb-4\">\r\n            <label>Country</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"country\"\r\n              className={`form-control mt-2 ${\r\n                errors.country ? \"is-invalid\" : \"\"\r\n              }`}\r\n              {...register(\"country\")}\r\n            />\r\n            {errors.country ? (\r\n              <label className=\"text-danger mt-1\">\r\n                {\" \"}\r\n                {errors.country.message}\r\n              </label>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          <div className=\"col-12 form-group mb-4\">\r\n            <label>Description</label>\r\n            <textarea\r\n              rows=\"3\"\r\n              name=\"description\"\r\n              className={`form-control mt-2 ${\r\n                errors.description ? \"is-invalid\" : \"\"\r\n              }`}\r\n              {...register(\"description\")}\r\n            ></textarea>\r\n            {errors.description ? (\r\n              <label className=\"text-danger mt-1\">\r\n                {\" \"}\r\n                {errors.description.message}\r\n              </label>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          <div className=\"col-md-6 form-group mb-4\">\r\n            <label>Image</label>\r\n            <input\r\n              type=\"file\"\r\n              name=\"image\"\r\n              onChange={imageHandleChange}\r\n              className=\"form-control mt-2\"\r\n            />\r\n            {imageError === true ? (\r\n              <label className=\"text-danger mt-1\">Image is mendatory</label>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n          <div className=\"col-md-6 mt-auto mb-4\">\r\n            <div className=\"d-grid\">\r\n              <input\r\n                type=\"submit\"\r\n                value=\"SUBMIT\"\r\n                className=\"btn theme-btn\"\r\n                style={{ float: \"right\" }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonalDetail;\r\n"],"names":["props","className","title","src","alt","width","email","useParams","navigate","useNavigate","useState","imageInput","setImageInput","imageError","setImageError","yupValidation","Yup","shape","phone","required","city","state","country","description","formOptions","resolver","yupResolver","useForm","register","handleSubmit","errors","formState","onSubmit","body","formData","FormData","append","fetch","method","then","res","json","data","url","image","axios","SERVER_BASE_URL","response","status","ROUTE_NAMES","type","name","message","rows","onChange","e","target","files","value","style","float"],"sourceRoot":""}